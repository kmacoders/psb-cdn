!function(){class e extends HTMLElement{constructor(){super(),this.timeDisplay=this.querySelector("[data-time-display]"),this.year=this.dataset.year,this.month=this.dataset.month,this.day=this.dataset.day,this.hour=this.dataset.hour,this.minute=this.dataset.minute,this.daysPlaceholder=this.querySelector("[date-days-placeholder]"),this.hoursPlaceholder=this.querySelector("[date-hours-placeholder]"),this.minutesPlaceholder=this.querySelector("[date-minutes-placeholder]"),this.secondsPlaceholder=this.querySelector("[date-seconds-placeholder]"),this.messagePlaceholder=this.querySelector("[data-message-placeholder]"),this.hideTimerOnComplete=Boolean(this.getAttribute("data-hide-timer")),this.completeMessage=this.dataset.completeMessage,this.timerComplete=!1,document.addEventListener("shopify:section:load",(()=>{this.init()})),this.init()}init(){const e=setInterval((()=>{this.timerComplete?(console.log("Clear interval countdown timer"),clearInterval(e)):this.calculate()}),1e3)}calculate(){const e=+new Date(`${this.year}-${this.month}-${this.day}T${this.hour}:${this.minute}:00`).getTime()-+(new Date).getTime();if(e>0){const t={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)};this.daysPlaceholder.innerHTML=t.days,this.hoursPlaceholder.innerHTML=t.hours,this.minutesPlaceholder.innerHTML=t.minutes,this.secondsPlaceholder.innerHTML=t.seconds}else Boolean(this.completeMessage)&&Boolean(this.messagePlaceholder)&&(this.messagePlaceholder.classList.remove("psb-none"),this.messagePlaceholder.classList.add("psb-block"),this.messagePlaceholder.innerHTML=this.completeMessage),!0===this.hideTimerOnComplete&&(this.timeDisplay.classList.remove("psb-block"),this.timeDisplay.classList.add("psb-none")),this.timerComplete=!0}}customElements.define("psb-countdown-timer",e)}();